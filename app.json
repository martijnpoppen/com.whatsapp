{
  "_comment": "This file is generated. Please edit .homeycompose/app.json instead.",
  "id": "com.whatsapp",
  "version": "0.0.1",
  "compatibility": ">=5.0.0",
  "sdk": 3,
  "platforms": [
    "local"
  ],
  "brandColor": "#000000",
  "name": {
    "en": "Whatsapp"
  },
  "description": {
    "en": "Connect your own WhatsApp Account to this APP and start sending messages from your number."
  },
  "tags": {
    "en": [
      "Whatsapp",
      "Texts",
      "Messaging",
      "Messages",
      "App",
      "TextMeBot",
      "Bot",
      "Text",
      "Telegram",
      "CallMeBot"
    ]
  },
  "category": [
    "appliances"
  ],
  "images": {
    "large": "/assets/images/large.jpg",
    "small": "/assets/images/small.jpg"
  },
  "author": {
    "name": "Martijn Poppen",
    "email": "textmebot@martijnpoppen.nl"
  },
  "contributors": {
    "developers": [
      {
        "name": "Martijn Poppen",
        "email": "textmebot@martijnpoppen.nl"
      }
    ],
    "translators": [
      {
        "name": "ðŸ‡¬ðŸ‡§ Martijn Poppen"
      }
    ]
  },
  "contributing": {
    "donate": {
      "paypal": {
        "username": "martijnpoppen"
      },
      "bunq": {
        "username": "martijnpoppen"
      }
    }
  },
  "bugs": {
    "url": "https://community.homey.app/t/app-pro-controlmyspa/57870"
  },
  "source": "https://github.com/martijnpoppen/com.textmebot",
  "homeyCommunityTopicId": 57870,
  "support": "https://community.homey.app/t/app-pro-controlmyspa/57870",
  "flow": {
    "triggers": [
      {
        "id": "trigger_message_received",
        "title": {
          "en": "Message received"
        },
        "args": [
          {
            "type": "device",
            "name": "device",
            "filter": "driver_id=Whatsapp&capabilities=receive_message"
          }
        ],
        "tokens": [
          {
            "name": "from",
            "type": "string",
            "title": {
              "en": "From"
            }
          },
          {
            "name": "message",
            "type": "string",
            "title": {
              "en": "Message"
            }
          }
        ]
      }
    ],
    "actions": [
      {
        "title": {
          "en": "Disable: receive messages"
        },
        "titleFormatted": {
          "en": "Disable: receive messages"
        },
        "args": [
          {
            "type": "device",
            "name": "device",
            "placeholder": {
              "en": "Select device",
              "nl": "Selecteer apparaat"
            },
            "filter": "driver_id=Whatsapp&capabilities=receive_message"
          }
        ],
        "platforms": [
          "local"
        ],
        "id": "action_disable_receive_messages"
      },
      {
        "title": {
          "en": "Enable: receive messages"
        },
        "titleFormatted": {
          "en": "Enable: receive messages"
        },
        "args": [
          {
            "type": "device",
            "name": "device",
            "placeholder": {
              "en": "Select device",
              "nl": "Selecteer apparaat"
            },
            "filter": "driver_id=Whatsapp&capabilities=receive_message"
          }
        ],
        "platforms": [
          "local"
        ],
        "id": "action_enable_receive_messages"
      },
      {
        "title": {
          "en": "Send Whatsapp message"
        },
        "titleFormatted": {
          "en": "Send Whatsapp [[message]] to [[recipient]]"
        },
        "args": [
          {
            "type": "device",
            "name": "device",
            "placeholder": {
              "en": "Select device",
              "nl": "Selecteer apparaat"
            },
            "filter": "driver_id=Whatsapp&capabilities=send_data"
          },
          {
            "type": "text",
            "name": "recipient",
            "required": true,
            "title": {
              "en": "Mobile number"
            }
          },
          {
            "type": "text",
            "name": "message",
            "required": true,
            "title": {
              "en": "Message"
            }
          }
        ],
        "platforms": [
          "local"
        ],
        "id": "action_send_message"
      },
      {
        "title": {
          "en": "Send Whatsapp message with audio"
        },
        "titleFormatted": {
          "en": "Send Whatsapp [[message]] with [[file]] to [[recipient]]"
        },
        "args": [
          {
            "type": "device",
            "name": "device",
            "placeholder": {
              "en": "Select device",
              "nl": "Selecteer apparaat"
            },
            "filter": "driver_id=Whatsapp&capabilities=send_data"
          },
          {
            "type": "text",
            "name": "recipient",
            "required": true,
            "hint": {
              "en": "Use with country code! e.g.( +31 -> +31601020304 ) "
            },
            "title": {
              "en": "Mobile number"
            }
          },
          {
            "type": "text",
            "name": "message",
            "title": {
              "en": "Message"
            }
          },
          {
            "type": "text",
            "name": "file",
            "required": true,
            "hint": {
              "en": "for example a url to a mp3 file"
            },
            "title": {
              "en": "Audio link"
            }
          }
        ],
        "platforms": [
          "local"
        ],
        "id": "action_send_message_audio"
      },
      {
        "title": {
          "en": "Send Whatsapp message with document"
        },
        "titleFormatted": {
          "en": "Send Whatsapp [[message]] with [[file]] to [[recipient]]"
        },
        "args": [
          {
            "type": "device",
            "name": "device",
            "placeholder": {
              "en": "Select device",
              "nl": "Selecteer apparaat"
            },
            "filter": "driver_id=Whatsapp&capabilities=send_data"
          },
          {
            "type": "text",
            "name": "recipient",
            "required": true,
            "hint": {
              "en": "Use with country code! e.g.( +31 -> +31601020304 ) "
            },
            "title": {
              "en": "Mobile number"
            }
          },
          {
            "type": "text",
            "name": "message",
            "title": {
              "en": "Message"
            }
          },
          {
            "type": "text",
            "name": "file",
            "required": true,
            "hint": {
              "en": "for example a url to a pdf file"
            },
            "title": {
              "en": "Document link"
            }
          }
        ],
        "platforms": [
          "local"
        ],
        "id": "action_send_message_document"
      },
      {
        "title": {
          "en": "Send Whatsapp message with image"
        },
        "titleFormatted": {
          "en": "Send Whatsapp [[message]] with [[file]] to [[recipient]]"
        },
        "args": [
          {
            "type": "device",
            "name": "device",
            "placeholder": {
              "en": "Select device",
              "nl": "Selecteer apparaat"
            },
            "filter": "driver_id=Whatsapp&capabilities=send_data"
          },
          {
            "type": "text",
            "name": "recipient",
            "required": true,
            "hint": {
              "en": "Use with country code! e.g.( +31 -> +31601020304 ) "
            },
            "title": {
              "en": "Mobile number"
            }
          },
          {
            "type": "text",
            "name": "message",
            "title": {
              "en": "Message"
            }
          },
          {
            "type": "text",
            "name": "file",
            "required": true,
            "hint": {
              "en": "for example a url to a jpg or gif file"
            },
            "title": {
              "en": "Image link"
            }
          }
        ],
        "platforms": [
          "local"
        ],
        "id": "action_send_message_image"
      },
      {
        "title": {
          "en": "Send Whatsapp message with image token"
        },
        "titleFormatted": {
          "en": "Send Whatsapp [[message]] with [[droptoken]] to [[recipient]]"
        },
        "droptoken": [
          "image"
        ],
        "args": [
          {
            "type": "device",
            "name": "device",
            "placeholder": {
              "en": "Select device",
              "nl": "Selecteer apparaat"
            },
            "filter": "driver_id=Whatsapp&capabilities=send_data"
          },
          {
            "type": "text",
            "name": "recipient",
            "required": true,
            "hint": {
              "en": "Use with country code! e.g.( +31 -> +31601020304 ) "
            },
            "title": {
              "en": "Mobile number"
            }
          },
          {
            "type": "text",
            "name": "message",
            "title": {
              "en": "Message"
            }
          }
        ],
        "platforms": [
          "local"
        ],
        "id": "action_send_message_image_token"
      },
      {
        "title": {
          "en": "Send Whatsapp message with video"
        },
        "titleFormatted": {
          "en": "Send Whatsapp [[message]] with [[file]] to [[recipient]]"
        },
        "args": [
          {
            "type": "device",
            "name": "device",
            "placeholder": {
              "en": "Select device",
              "nl": "Selecteer apparaat"
            },
            "filter": "driver_id=Whatsapp&capabilities=send_data"
          },
          {
            "type": "text",
            "name": "recipient",
            "required": true,
            "hint": {
              "en": "Use with country code! e.g.( +31 -> +31601020304 ) "
            },
            "title": {
              "en": "Mobile number"
            }
          },
          {
            "type": "text",
            "name": "message",
            "title": {
              "en": "Message"
            }
          },
          {
            "type": "text",
            "name": "file",
            "required": true,
            "hint": {
              "en": "for example a url to a mp4 file"
            },
            "title": {
              "en": "Video link"
            }
          }
        ],
        "platforms": [
          "local"
        ],
        "id": "action_send_message_video"
      },
      {
        "title": {
          "en": "[Group]  Send Whatsapp message"
        },
        "titleFormatted": {
          "en": "[Group] Send Whatsapp [[message]] to [[recipient]]"
        },
        "args": [
          {
            "type": "device",
            "name": "device",
            "placeholder": {
              "en": "Select device",
              "nl": "Selecteer apparaat"
            },
            "filter": "driver_id=Whatsapp&capabilities=send_data"
          },
          {
            "type": "text",
            "name": "recipient",
            "required": true,
            "title": {
              "en": "group"
            }
          },
          {
            "type": "text",
            "name": "message",
            "required": true,
            "title": {
              "en": "Message"
            }
          }
        ],
        "platforms": [
          "local"
        ],
        "id": "action_wa_group_send_message"
      },
      {
        "title": {
          "en": "[Group] Send Whatsapp message with audio"
        },
        "titleFormatted": {
          "en": "[Group] Send Whatsapp [[message]] with [[file]] to group [[recipient]]"
        },
        "args": [
          {
            "type": "device",
            "name": "device",
            "placeholder": {
              "en": "Select device",
              "nl": "Selecteer apparaat"
            },
            "filter": "driver_id=Whatsapp&capabilities=send_data"
          },
          {
            "type": "text",
            "name": "recipient",
            "required": true,
            "hint": {
              "en": "Copy the invite link of your whatsapp group and paste it here. Based on the link the app will know to which group to send a message "
            },
            "title": {
              "en": "group"
            }
          },
          {
            "type": "text",
            "name": "message",
            "title": {
              "en": "Message"
            }
          },
          {
            "type": "text",
            "name": "file",
            "required": true,
            "hint": {
              "en": "for example a url to a mp3 file"
            },
            "title": {
              "en": "Audio link"
            }
          }
        ],
        "platforms": [
          "local"
        ],
        "id": "action_wa_group_send_message_audio"
      },
      {
        "title": {
          "en": "[Group]  Send Whatsapp message with document"
        },
        "titleFormatted": {
          "en": "[Group] Send Whatsapp [[message]] with [[file]] to [[recipient]]"
        },
        "args": [
          {
            "type": "device",
            "name": "device",
            "placeholder": {
              "en": "Select device",
              "nl": "Selecteer apparaat"
            },
            "filter": "driver_id=Whatsapp&capabilities=send_data"
          },
          {
            "type": "text",
            "name": "recipient",
            "required": true,
            "hint": {
              "en": "Copy the invite link of your whatsapp group and paste it here. Based on the link the app will know to which group to send a message "
            },
            "title": {
              "en": "group"
            }
          },
          {
            "type": "text",
            "name": "message",
            "title": {
              "en": "Message"
            }
          },
          {
            "type": "text",
            "name": "file",
            "required": true,
            "hint": {
              "en": "for example a url to a pdf file"
            },
            "title": {
              "en": "Document link"
            }
          }
        ],
        "platforms": [
          "local"
        ],
        "id": "action_wa_group_send_message_document"
      },
      {
        "title": {
          "en": "[Group] Send Whatsapp message image"
        },
        "titleFormatted": {
          "en": "[Group] Send Whatsapp [[message]] with [[file]] to [[recipient]]"
        },
        "args": [
          {
            "type": "device",
            "name": "device",
            "placeholder": {
              "en": "Select device",
              "nl": "Selecteer apparaat"
            },
            "filter": "driver_id=Whatsapp&capabilities=send_data"
          },
          {
            "type": "text",
            "name": "recipient",
            "required": true,
            "hint": {
              "en": "Copy the invite link of your whatsapp group and paste it here. Based on the link the app will know to which group to send a message "
            },
            "title": {
              "en": "group"
            }
          },
          {
            "type": "text",
            "name": "message",
            "title": {
              "en": "Message"
            }
          },
          {
            "type": "text",
            "name": "file",
            "required": true,
            "hint": {
              "en": "for example a url to a jpg or gif file"
            },
            "title": {
              "en": "Image link"
            }
          }
        ],
        "platforms": [
          "local"
        ],
        "id": "action_wa_group_send_message_image"
      },
      {
        "title": {
          "en": "[Group] Send Whatsapp message with image token"
        },
        "titleFormatted": {
          "en": "[Group] Send Whatsapp [[message]] with [[droptoken]] to [[recipient]]"
        },
        "droptoken": [
          "image"
        ],
        "args": [
          {
            "type": "device",
            "name": "device",
            "placeholder": {
              "en": "Select device",
              "nl": "Selecteer apparaat"
            },
            "filter": "driver_id=Whatsapp&capabilities=send_data"
          },
          {
            "type": "text",
            "name": "recipient",
            "required": true,
            "hint": {
              "en": "Copy the invite link of your whatsapp group and paste it here. Based on the link the app will know to which group to send a message "
            },
            "title": {
              "en": "Group"
            }
          },
          {
            "type": "text",
            "name": "message",
            "title": {
              "en": "Message"
            }
          }
        ],
        "platforms": [
          "local"
        ],
        "id": "action_wa_group_send_message_image_token"
      },
      {
        "title": {
          "en": "Send Whatsapp message to group with video"
        },
        "titleFormatted": {
          "en": "Send Whatsapp [[message]] with [[file]] to [[recipient]]"
        },
        "args": [
          {
            "type": "device",
            "name": "device",
            "placeholder": {
              "en": "Select device",
              "nl": "Selecteer apparaat"
            },
            "filter": "driver_id=Whatsapp&capabilities=send_data"
          },
          {
            "type": "text",
            "name": "recipient",
            "required": true,
            "hint": {
              "en": "Copy the invite link of your whatsapp group and paste it here. Based on the link the app will know to which group to send a message "
            },
            "title": {
              "en": "Mobile number"
            }
          },
          {
            "type": "text",
            "name": "message",
            "title": {
              "en": "Message"
            }
          },
          {
            "type": "text",
            "name": "file",
            "required": true,
            "hint": {
              "en": "for example a url to a mp4 file"
            },
            "title": {
              "en": "Video link"
            }
          }
        ],
        "platforms": [
          "local"
        ],
        "id": "action_wa_group_send_message_video"
      }
    ]
  },
  "drivers": [
    {
      "icon": "/drivers/Whatsapp/assets/icon.svg",
      "images": {
        "large": "/drivers/Whatsapp/assets/images/large.jpg",
        "small": "/drivers/Whatsapp/assets/images/small.jpg"
      },
      "class": "other",
      "connectivity": [
        "cloud"
      ],
      "platforms": [
        "local"
      ],
      "pair": [
        {
          "id": "whatsapp_email",
          "options": {
            "title": {
              "en": "Fill in your email"
            },
            "usernameLabel": {
              "en": "E-mail address"
            },
            "usernamePlaceholder": {
              "en": "john@doe.com"
            }
          }
        },
        {
          "id": "whatsapp_apikey",
          "options": {
            "title": {
              "en": "Fill in your apiKey (which you got in the email from TextMebot)"
            },
            "usernameLabel": {
              "en": "ApiKey"
            },
            "usernamePlaceholder": {
              "en": "abcdef1234"
            }
          }
        },
        {
          "id": "whatsapp_phone",
          "options": {
            "title": {
              "en": "Fill in your phone number (which you use in whatsapp)"
            },
            "usernameLabel": {
              "en": "Phone number"
            },
            "usernamePlaceholder": {
              "en": "+31601234567"
            }
          }
        },
        {
          "id": "whatsapp_qr",
          "options": {
            "title": {
              "en": "Scan QR with Whatsapp"
            },
            "navigation": {
              "next": "list_devices"
            }
          }
        },
        {
          "id": "list_devices",
          "template": "list_devices",
          "navigation": {
            "next": "add_devices"
          }
        },
        {
          "id": "add_devices",
          "template": "add_devices"
        }
      ],
      "settings": [
        {
          "type": "group",
          "label": {
            "en": "App settings",
            "nl": "App instellingen"
          },
          "children": [
            {
              "id": "enable_receive_message",
              "type": "checkbox",
              "label": {
                "en": "Enable: Receive Message"
              },
              "hint": {
                "en": "By selecting this checkbox, you will enable the option to receive WhatsApp messages on Homey. However, please be aware that choosing this option may result in a lack of notifications on other devices when using WhatsApp web."
              },
              "value": false
            }
          ]
        },
        {
          "type": "group",
          "label": {
            "en": "Login settings",
            "nl": "App instellingen"
          },
          "children": [
            {
              "id": "apiKey",
              "type": "label",
              "label": {
                "en": "API Key"
              },
              "value": ""
            },
            {
              "id": "email",
              "type": "label",
              "label": {
                "en": "Email"
              },
              "value": ""
            },
            {
              "id": "phone",
              "type": "label",
              "label": {
                "en": "Phone number"
              },
              "value": ""
            }
          ]
        }
      ],
      "name": {
        "en": "Whatsapp"
      },
      "capabilities": [
        "send_data"
      ],
      "id": "Whatsapp"
    }
  ],
  "capabilities": {
    "receive_message": {
      "platforms": [
        "local"
      ],
      "type": "boolean",
      "title": {
        "en": "Receive message"
      },
      "getable": true,
      "setable": true,
      "uiComponent": null
    },
    "send_data": {
      "platforms": [
        "local"
      ],
      "type": "boolean",
      "title": {
        "en": "Send data"
      },
      "getable": true,
      "setable": true,
      "uiComponent": null
    }
  }
}